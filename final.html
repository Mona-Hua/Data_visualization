<!DOCTYPE html>
<html>
    <head>
        <title>DATA VISUALISATION 2| World economics situation</title>
        <!-- Import Vega & Vega-Lite (does not have to be from CDN) -->
        <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
        <script src="https://cdn.jsdelivr.net/npm/vega-lite@4"></script>
        <!-- Import vega-embed -->
        <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
        <!-- Import pure.css -->
        <link rel="stylesheet" href="https://unpkg.com/purecss@2.0.3/build/pure-min.css" integrity="sha384-cg6SkqEOCV1NbJoCu11+bm0NvBRc8IYLRGXkmNrqUBfTjmMYwNKPWBTIKyw9mHNJ" crossorigin="anonymous">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <!-- Google font -->
        <link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@400;700;900&display=swap" rel="stylesheet">
      
        <!-- custom style -->
        <style>
          *{
            font-family: 'Source Sans Pro', sans-serif;
          }
          h1{
            font-weight: 900;
            color:rgb(66, 84, 138);
          }
          h2{
            color:rgb(174,141,146);
          }
           body{
             background-color:rgb(229,221,215);
           }
           .page{
             width: 850px;    
             background-color: white;   
             margin: auto;
             padding: 50px;
             padding-top: 35px;
          }
          .vis-container{
            width: 100%;
          }
          .description h2, h1{
            margin-top:0px;
          }
          .description-right {
            padding-left: 20px;
          }
          .description-left{
            padding-right: 20px;
          }
          .pure-g{
            margin-bottom: 25px;
          }
          .small-font{
              font-size: 14px;
          }
        </style>
      </head>
<body>
    <div class="page">

        <!-- pure grid group -->
         <div class="pure-g">
           <div class="pure-u-1-1">
             <h1> World economics situation</h1>
             <p>This page demonstrates economics situation in each country by indexes such as unemployment rate and inflation rate.</p>
           </div>
         </div>
       <!-- end pure grid group -->
     
         <!-- pure grid group -->
         <div class="pure-g">
             <div class="pure-u-1-3">
               <div class="description description-left">
                 <h2>World-wide GDP per capital</h2>
                 <p>This map uses 2019 GDP per capital data from the World Bank. Within the range of countries included, dark blue is the country with the highest GDP, which means that the country is in a good fiscal position for 2019 and its people have a high standard of living. Bright green means that the country has the lowest GDP and is concentrated on the African continent on the map.GDP data can tell the user visually about a country's financial situation, but it is not accurate because it does not take into account black market</p>
               </div>
             </div>
             <div class="pure-u-2-3">
               <div id="vis1" class="vis-container"></div>
             </div>
         </div>
         <!-- end pure grid group -->
     
         <!-- pure grid group -->
         <div class="pure-g">
             <div class="pure-u-2-3">
               <div id="vis2"  class="vis-container"></div>
             </div>
             <div class="pure-u-1-3">
               <div class="description description-right">
                 <h2>More index added</h2>
                 <p>This bubble map, the x-axis shows the country's population number and the y-axis is the total GDP in 2019 within a country. The size of the circle means the country's inflation rate. When the point has a smaller x-value and a higher y-value which on the top left side of the plot, it means that the country represented by the point has a higher GDP per capita.The size of the circle encode the inflation rate of the country and the color of the circle represents different continental plates. </p>
                </div>
             </div>
           
         </div>
         <!-- end pure grid group -->
     
         <!-- pure grid group -->
         <div class="pure-g">
           <div class="pure-u-1-2">
             <div class="description description-left">
               <h2>Part to whole, continent to world</h2>
               <p>Each part in radial plot refers to a continent. The colors distinguish the different continental plates, while a larger area and a longer radius means that the plate has a higher total GDP. The three shortest parts of the fantasy represent Oceania, South America and Africa. The amount of total GDP does not represent the economic level of a country. Asia's total GDP is the highest in the world because it contains many countries. In Oceania, Australia and New Zealand are both countries with high GDP per capital, but the total GDP value of Oceania is not high because of the relatively small number of countries in Oceania. </div>
           </div>
           <div class="pure-u-1-2">
             <div id="vis4"  class="vis-container"></div>
           </div>
         
         </div>
         <!-- end pure grid group -->
         <div class="pure-g">
            <div class="pure-u-2-3">
              <div id="vis3"  class="vis-container"></div>
            </div>
            <div class="pure-u-1-3">
              <div class="description description-right">
                <h2>Why unemployment?</h2>
                <p>The x-axis of this graph represents the total population y-axis represents the total GDP, and the color of each cell represents the amount of unemployment. Although the values shown are small, we can see that the closer to 0 the darker the grid is, with the top right corner being the lightest. The position of each grid represents the value of the GDP per capital for that country. This grid near the lower left corner means that the country's GDP per capital is low, and the grid will also be darker, meaning that the country's unemployment rate is also high.</div>
            </div>
        </div>

        <div class="pure-g">
          <div class="pure-u-1-1 small-font">
            <p><em>GDP is measured by four measures: consumption, government spending, investment and net exports. Inflation rates show changes in a country's living standards and price levels. Unemployment is directly linked to the consumption needs of the people of the country.
                When the inflation rate in a country is high the prices of items rise sharply, the people of that country have lower freight charges for consumption and at the same time the rate of saving money rises, which has a very negative impact on the circulation of money in a country. Usually in times of economic crisis, unemployment rates increase in all countries of the world and people's desire to consume decreases, making consumption lower in the four measures of GDP.</em></p>
          </div>
        </div>

        </div>
         <div class="pure-g">
           <div class="pure-u-1-1 small-font">
             <p>This visualisation is created by <a href="https://github.com/Mona-Hua" target="_blank">Bingqing Hua</a>. The datasource is <a href="https://data.worldbank.org"" target="_blank">World Bank</href>.</p>
           </div>
         </div>
       
     
       </div> 


<script type="text/javascript">
  var specVis1= {
  "$schema": "https://vega.github.io/schema/vega-lite/v4.json",
  "width": 450,
  "height": 350,
  "projection": {"type": "equalEarth"},
  "layer": [
    {
      "data": {
        "url": "https://raw.githubusercontent.com/Mona-Hua/FIT3179/main/worldtopo.json",
        "format": {"type": "topojson", "feature": "world"}
      },
      "mark": {"type": "geoshape", "fill": "lightgray", "stroke": "white"}
    },
    {
      "data": {
        "url": "https://raw.githubusercontent.com/Mona-Hua/FIT3179/main/worldtopo.json",
        "format": {"type": "topojson", "feature": "world"}
      },
      "transform": [
        {
          "lookup": "properties.admin",
          "from": {
            "data": {
              "url": "https://raw.githubusercontent.com/Mona-Hua/FIT3179/main/eco.csv",
              "format": {"type": "csv"}
            },
            "key": "Country Name",
            "fields": ["2019gdppc"]
          }
        }
      ],
      "mark": "geoshape",
      "projection": {"type": "equalEarth"},
      "encoding": {
          "color": {"field": "2019gdppc", "type": "quantitative","title":"GDP per capital in 2019"},
          "tooltip": [
            {"field": "2019gdppc", "type": "quantitative","title":"GDP per capital"}
    ],}
    }
  ]
};
  var specVis2 = {
    "$schema": "https://vega.github.io/schema/vega-lite/v4.json",
    "data": {
      "url": "https://raw.githubusercontent.com/Mona-Hua/FIT3179/main/eco.csv"},
    "params": [
 {
      "name": "Continent_selection",
      "bind": {
        "input": "select",
        "options": [
          null,
         "North America",
         "South America",
         "Europe",
         "Africa",
         "Asia",
         "Oceania"
 ],
        "labels":[
         "Show All",
         "North America",
         "South America",
         "Europe",
         "Africa",
         "Asia",
         "Oceania"
 ],
        "name": "Continent Selection: "
 }
 }
 ],
 "transform": [
 {"filter": "Continent_selection == null || datum.Continent == Continent_selection"}
 ],
  "encoding": {
     "x": {
      "field": "2019population",
      "type": "quantitative",
      "title": "Population",
      "axis":{"grid":false},
      "scale": {"zero": false,"type":"log"}
    },
    "y": {
      "field": "2019gdp",
      "type": "quantitative",
      "axis":{"grid":false},
      "scale": {"zero": false,"type":"log"},
      "title": "Total GDP in 2019"
  }},
  "layer": [
 {
     "selection": {
        "continent_highlight": {
           "type": "multi",
           "fields": ["Continent"],
            "bind": "legend"
 }
 },
     "mark": "circle",
     "encoding": {
        "size": {
         "field": "2019inflation",
      "type": "quantitative",
      "scale": {
        "type": "threshold",
        "domain": [0,1,2,3,10],
        "range": [80,120,150,200,300,400]
      },
        "legend": {"format": ".1s"}
 },
        "color": {
            "field": "Continent",
            "type": "nominal",
            "scale": {
               "domain": [
 "North America",
 "South America",
 "Europe",
 "Africa",
 "Asia",
 "Oceania"
 ],
               "range": [
 "#e41a1c",
 "#984ea3",
 "#ff7f00",
 "#a6cee3",
 "#377eb8",
 "#a65628"
 ]
 }
 },
      "opacity": {
        "condition": {"selection": "continent_highlight",    "value": 0.6},
 "value": 0.2
 },
 "tooltip": [
      {"field": "Country Name", "type": "nominal"},
      {"field": "2019population", "type": "quantitative", "format": ","},
      {"field": "2019gdppc", "type": "quantitative", "format": ",","title":"2019 GDP per capital"}
 ]
 }
 },
 {
 "mark": {
 "type": "text",
 "align": "right",
 "baseline": "middle",
 "dx": -12,
 "fontSize": 11.5,
 "fontStyle": "italic"
 },
 "encoding": {
 "text": {"field": "Country Name", "type": "nominal"},
 "color": {"value": "black"},
 "opacity": {
 "condition": {
 "test": "datum['Country Name'] == 'China' || datum['Country Name'] == 'Singapore' || datum['Country Name'] == 'Australia' || datum['Country Name'] == 'Yemen' || datum['Country Name'] == 'United States'",
 "value": 1
 },
 "value": 0
 },
 "tooltip": [
  {"field": "Country Name", "type": "nominal"},
      {"field": "2019population", "type": "quantitative", "format": ","},
      {"field": "2019gdppc", "type": "quantitative", "format": ",","title":"2019 GDP per capital"}
 ]
 }
 }
 ] };
  var specVis3={
  "$schema": "https://vega.github.io/schema/vega-lite/v4.json",
  "data": {
    "url": "https://raw.githubusercontent.com/Mona-Hua/FIT3179/main/eco.csv"
  },
  "mark": "rect",
  "width": 300,
  "height": 200,
  "encoding": {
    "x": {
      "bin": {"maxbins": 10},
      "field": "2018population",
      "type": "quantitative",
      "title": "Population"
    },
    "y": {
      "bin": {"maxbins": 10},
      "field": "2018gdp",
      "type": "quantitative",
      "title": "Total GDP in 2018"
    },
    "tooltip": [
      {"field": "Country Name", "type": "nominal"},
      {"field": "2018population", "type": "quantitative", "format": ","},
      {
        "field": "2019unemployment",
        "type": "quantitative",
        "format": ",",
        "title": "Unemployment Rate"
      }
    ],
    "color": {
      "field": "2019unemployment",
      "type": "quantitative",
      "title": "Unemployment Rate"
    }
  },
  "config": {"view": {"stroke": "transparent"}}
};
  var specVis4={
  "$schema": "https://vega.github.io/schema/vega-lite/v4.json",
  "title": "2019 gdp",
  "data": {
    "values": [
      {"category": "Asia", "value": "31874.196"},
      {"category": "North America", "value": "24985.935"},
      {"category": "Europe", "value": "22246.631"},
      {"category": "Oceania", "value": "1615.236"},
      {"category": "Africa", "value": "2404.234"},
      {"category": "South America", "value": "3472.592"}
    ]
  },
  "layer": [
    {"mark": {"type": "arc", "innerRadius": 30, "stroke": "#fff"}},
    {
      "mark": {"type": "text", "radiusOffset": 40},
      "encoding": {"text": {"field": "category", "type": "nominal"}}
    }
  ],
  "encoding": {
    "theta": {"field": "value", "type": "quantitative", "stack": true},
    "radius": {
      "field": "value",
      "scale": {"type": "sqrt", "zero": true, "rangeMin": 50}
    },
    "color": {"field": "category", "type": "nominal", "legend": null},
    "tooltip": [
      {"field": "category", "type": "nominal", "title": "Continent"},
      {
        "field": "value",
        "type": "quantitative",
        "title": "GDP amount(billion$)",
        "format": ","
      }
    ]
  },
  "view": {"stroke": null},
  "config": {}
};

  vegaEmbed('#vis1', specVis1).then(function(result) {
    // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
  }).catch(console.error);
  
  vegaEmbed('#vis2', specVis2).then(function(result) {
    // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
  }).catch(console.error);

  vegaEmbed('#vis3', specVis3).then(function(result) {
    // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
  }).catch(console.error);

  vegaEmbed('#vis4', specVis4).then(function(result) {
    // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
  }).catch(console.error);

</script>
</body>
</html>
